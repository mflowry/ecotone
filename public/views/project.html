<div id="project-page">
    <h2>Project Summary</h2>

    <md-content>
        <div layout="column">
        <br>
            <!-- Autocomplete -->
            <h3>Project Name</h3>
            <md-autocomplete
                    ng-disabled="ctrl.isDisabled"
                    md-selected-item="ctrl.selected_project"
                    md-selected-item-change="ctrl.selectedItemChange(item)"
                    md-search-text="ctrl.searchText"
                    md-search-text-change="ctrl.searchTextChange(ctrl.searchText)"
                    md-items="item in ctrl.querySearch(ctrl.searchText)"
                    md-item-text="item.project_name"
                    md-min-length="0"
                    md-floating-label="Select Project Name"                           layout-fill >
                <md-item-template>
                    <span md-highlight-text="ctrl.searchText" md-highlight-flags="^i">
                        {{item.project_name}}
                    </span>
                </md-item-template>
                <md-not-found>
                    <div>
                    No matches found for {{ctrl.searchText}}
                    </div>
                </md-not-found>
            </md-autocomplete>
            <md-content>
                <h3>Project Description </h3>
                <p>{{ctrl.project_name.project_description}}</p>
            </md-content>
        <md-divider ng-if="!$last"></md-divider>
        </div>
    </md-content>
    <md-content>
            <br>
            <table class="dialog-demo-content" style="min-width: 1200px; text-align: left;">
                <!--<tr layout="row" layout-fill layout-wrap >-->
                <!--<th>Item Description</th>-->
                <!--</tr>-->
                <tr layout="row" layout-fill layout-wrap >
                    <th flex="25">Item Description</th>
                    <th flex="15">Category</th>
                    <th flex="15">Sub-Category</th>
                    <th flex="5">Weight</th>
                    <th flex="5">Units</th>
                    <th flex="12">CO<sub>2</sub> Offset</th>
                    <th flex="3"></th>
                </tr>

                <tr layout="row" layout-wrap >
                    <td contentEditable="true" flex="25">{{ctrl.selected_project.item_description}}</td>
                    <td contentEditable="true" flex="15">{{ctrl.selected_project.category}}</td>
                    <td contentEditable="true" flex="15">{{ctrl.selected_project.sub_category}}</td>
                    <td contentEditable="true" flex="5">{{ctrl.selected_project.weight}}</td>
                    <td contentEditable="true" flex="5">{{ctrl.selected_project.units}}</td>
                    <td flex="12">{{ctrl.selected_project.co2_offset}} metric tons</td>
                    <td flex="3" style="text-align: left;" type="submit" ng-value="id" ng-click="ctrl.showDelete()"><img src="../images/icons/ic_delete_black_24px.svg" alt="Delete Project" ng-click="showDelete($event, ctrl.selected_project.id)"/> </td>
                </tr>
            </table>
        <div>
            <br>
            <md-divider ng-if="!$last"></md-divider>
            <section layout="row" layout-align="center right">
            <md-button class="md-accent md-raised" ng-click="ctrl.calculateProjectTotal()" style="background-color: #0288d1;">Calculate Total</md-button>
            <md-button class="md-accent md-raised" ng-click="ctrl.saveProject()" style="background-color: #0288d1;">Save Changes</md-button>
            </section>
            <section layout="row" layout-align="right">
                <p ng-show="ctrl.projectTotal">Your Total Estimated CO<sub>2</sub> Offset is {{ctrl.projectTotal}} metric tons</p>
            </section>

        </div>
    </md-content>
</div>