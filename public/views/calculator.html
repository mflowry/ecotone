<div id="calculator-page">
    <div ng-controller="calculateCtrl" layout="column" ng-cloak>
        <h2>Calculate Your CO<sub>2</sub> Offset</h2>
        <!-- New Project Info -->

        <md-content layout="column" layout-align="space-between center">
            <!-- Autocomplete -->
            <md-autocomplete
                    md-selected-item="category"
                    md-search-text="searchText"
                    md-items="item in querySearch(searchText)"
                    md-item-text="item.primary_cat"
                    md-min-length="0"
                    md-floating-label="Material type"
                    layout-fill>
                <md-item-template>
                    <span md-highlight-text="searchText" md-highlight-flags="^i">{{item.primary_cat}}</span>
                </md-item-template>
                <md-not-found>
                    No matches found for "{{searchText}}".
                </md-not-found>
            </md-autocomplete>

            <md-input-container ng-show="category.secondaries[0].secondary_cat != null" layout="column" layout-align="end center" layout-fill flex>
                <md-select ng-model="warmId" placeholder="Subcategory" layout-fill layout-align="center">
                    <md-option ng-repeat="subcategory in category.secondaries" ng-value="subcategory.warm_id">
                        {{subcategory.secondary_cat}}
                    </md-option>
                </md-select>
            </md-input-container>

            <div layout layout-sm="column" layout-align="space-between end" layout-fill>
                <md-input-container flex>
                    <label>Weight</label>
                    <input ng-model="weight" type="text">
                </md-input-container>
                <md-select ng-model="conversion" placeholder="Select units" flex>
                    <md-option ng-repeat="unit in units" ng-value="unit.conversion" >{{unit.name}}
                    </md-option>
                </md-select>
            </div>

            <md-button class="md-accent md-raised" ng-click="newCalculation()" type="submit" value="Save">Submit</md-button>

            <p ng-show="result">Your Estimated CO<sub>2</sub> Offset is {{result}} Metric Tons.</p>

        </md-content>
    </div>
</div>